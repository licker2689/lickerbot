plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '7.1.2'

}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral();
    maven {
        url 'https://m2.dv8tion.net/releases'
    }
}
shadowJar {
    dependencies {
        include(dependency('net.dv8tion:JDA::5.0.0-beta.2'))
    }


    destinationDirectory.set(file("$rootDir/jars"))

}
jar {
    manifest {
        attributes 'Main-Class': 'org.example.ReadyListener'
    }
    finalizedBy shadowJar
}

build {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

dependencies {
    compileOnly 'com.google.apis:google-api-services-youtube:v3-rev222-1.25.0'
    implementation("net.dv8tion:JDA:5.0.0-alpha.22")
    implementation 'com.sedmelluq:lavaplayer:1.3.77'
}
test {
    useJUnitPlatform()
}

compileJava.options.encoding = 'UTF-8'
